<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `epoch` mod in crate `coco`."><meta name="keywords" content="rust, rustlang, rust-lang, epoch"><title>coco::epoch - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../coco/index.html'><div class='logo-container'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Module epoch</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></div><p class='location'><a href='../index.html'>coco</a></p><script>window.sidebarCurrent = {name: 'epoch', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/coco/epoch/mod.rs.html#1-40' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../index.html'>coco</a>::<wbr><a class="mod" href=''>epoch</a></span></h1><div class='docblock'><p>Epoch-based garbage collection.</p>
<h1 id="pointers" class="section-header"><a href="#pointers">Pointers</a></h1>
<p>Concurrent collections are built using atomic pointers. This module provides <a href="struct.Atomic.html"><code>Atomic</code></a>, which
is just a shared atomic pointer to a heap-allocated object. Loading an <a href="struct.Atomic.html"><code>Atomic</code></a> yields a
<a href="struct.Ptr.html"><code>Ptr</code></a>, which is an epoch-protected pointer through which the loaded object can be safely
read.</p>
<h1 id="pinning" class="section-header"><a href="#pinning">Pinning</a></h1>
<p>Before an <a href="struct.Atomic.html"><code>Atomic</code></a> can be loaded, the current thread must be pinned. By pinning a thread we
declare that any object that gets removed from now on must not be destructed just yet. Garbage
collection of newly removed objects is suspended until the thread gets unpinned.</p>
<h1 id="garbage" class="section-header"><a href="#garbage">Garbage</a></h1>
<p>Objects that get removed from concurrent collections must be stashed away until all currently
pinned threads get unpinned. Such objects can be stored into a <a href="struct.Garbage.html"><code>Garbage</code></a>, where they are kept
until the right time for their destruction comes.</p>
<p>There is a global shared instance of <a href="struct.Garbage.html"><code>Garbage</code></a>, which can only deallocate memory. It cannot
drop objects or run arbitrary destruction procedures. Removed objects can be stored into it by
calling <a href="fn.defer_free.html"><code>defer_free</code></a>.</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.Atomic.html" title='coco::epoch::Atomic struct'>Atomic</a></td><td class='docblock-short'><p>A tagged atomic nullable pointer.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.Garbage.html" title='coco::epoch::Garbage struct'>Garbage</a></td><td class='docblock-short'><p>A garbage queue.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.Pin.html" title='coco::epoch::Pin struct'>Pin</a></td><td class='docblock-short'><p>A witness that the current thread is pinned.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.Ptr.html" title='coco::epoch::Ptr struct'>Ptr</a></td><td class='docblock-short'><p>A tagged nullable pointer.</p>
</td></tr></table><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table><tr class='module-item'><td><a class="fn" href="fn.defer_free.html" title='coco::epoch::defer_free fn'>defer_free</a><a title='unsafe function' href='#'><sup>⚠</sup></a></td><td class='docblock-short'><p>Stashes away an object that will later be freed.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.flush.html" title='coco::epoch::flush fn'>flush</a></td><td class='docblock-short'><p>Flushes the buffered thread-local garbage.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.is_pinned.html" title='coco::epoch::is_pinned fn'>is_pinned</a></td><td class='docblock-short'><p>Returns <code>true</code> if the current thread is pinned.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.pin.html" title='coco::epoch::pin fn'>pin</a></td><td class='docblock-short'><p>Pins the current thread.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "coco";</script><script src="../../aliases.js"></script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>