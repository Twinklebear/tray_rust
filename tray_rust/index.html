<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `tray_rust` crate."><meta name="keywords" content="rust, rustlang, rust-lang, tray_rust"><title>tray_rust - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../dark.css"><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="../favicon.ico"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../tray_rust/index.html'><div class='logo-container'><img src='../rust-logo.png' alt='logo'></div></a><p class='location'>Crate tray_rust</p><div class="sidebar-elems"><a id='all-types' href='all.html'><p>See all tray_rust's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li></ul></div><p class='location'></p><script>window.sidebarCurrent = {name: 'tray_rust', ty: 'mod', relpath: '../'};</script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/tray_rust/lib.rs.html#1-110' title='goto source code'>[src]</a></span><span class='in-band'>Crate <a class="mod" href=''>tray_rust</a></span></h1><div class='docblock'><h1 id="tray_rust---a-toy-ray-tracer-in-rust" class="section-header"><a href="#tray_rust---a-toy-ray-tracer-in-rust">tray_rust - A Toy Ray Tracer in Rust</a></h1>
<p>tray_rust is a toy physically based ray tracer built off of the techniques
discussed in <a href="http://pbrt.org/">Physically Based Rendering</a>. It began life as a port of
<a href="https://github.com/Twinklebear/tray">tray</a> to <a href="http://www.rust-lang.org">Rust</a> to check out the language.
The renderer is currently capable of path tracing, supports triangle meshes (MTL support coming soon),
and various physically based material models (including measured data from the
<a href="http://www.merl.com/brdf/">MERL BRDF Database</a>). tray_rust also supports rigid body animation along
B-spline paths and distributed rendering.</p>
<p><a href="https://travis-ci.org/Twinklebear/tray_rust"><img src="https://travis-ci.org/Twinklebear/tray_rust.svg?branch=master" alt="Build Status" /></a></p>
<h2 id="running" class="section-header"><a href="#running">Running</a></h2>
<p>Running and passing <code>--help</code> or <code>-h</code> will print out options you can pass to the renderer which are documented in the help.
For the more complicated use cases I hope to do some write ups and guides on how to use them (e.g. distributed rendering,
animation) but this may take a while. I strongly recommend running the release build as the debug version will be very slow.</p>
<h2 id="building-your-own-scenes" class="section-header"><a href="#building-your-own-scenes">Building Your Own Scenes</a></h2>
<p>To position and animate objects, the camera and so on the
<a href="https://github.com/Twinklebear/tray_rust_blender">Blender plugin</a> is the easiest to use. However the plugin
is still in development and missing some features like setting materials, changing light properties and such so
you'll still currently need to do those by hand in the exported JSON file. For materials take a look at
the <a href="http://www.willusher.io/tray_rust/tray_rust/material/index.html">materials documentation</a> for lights
you'll likely just want to change the emission color which is an RGB color plus a strength term.</p>
<p>Start at the documentation for the <a href="http://www.willusher.io/tray_rust/tray_rust/scene/index.html">scene module</a>,
there are also a few example <a href="https://github.com/Twinklebear/tray_rust/tree/master/scenes">scenes</a> included but not all
the models are provided. From a clean <code>git clone</code> you should be able to run
<a href="https://github.com/Twinklebear/tray_rust/blob/master/scenes/cornell_box.json">cornell_box.json</a> and
<a href="https://github.com/Twinklebear/tray_rust/blob/master/scenes/smallpt.json">smallpt.json</a>. I plan to add some
more simple scenes that show usage of other features like animation to provide examples. The rigid body animation
feature is relatively new though so I haven't had time to document it properly yet.</p>
<h2 id="todo" class="section-header"><a href="#todo">TODO</a></h2>
<ul>
<li>More material models (eg. more microfacet models, rough glass, etc.)</li>
<li>Textures</li>
<li>Support for using an OBJ's associated MTL files</li>
<li>Bump mapping</li>
<li><a href="http://en.wikipedia.org/wiki/Subsurface_scattering">Subsurface scattering?</a></li>
<li><a href="http://iliyan.com/publications/VertexMerging">Vertex Connection and Merging?</a></li>
</ul>
<h2 id="sample-renders" class="section-header"><a href="#sample-renders">Sample Renders</a></h2>
<p>In the samples the the Buddha, Dragon, Bunny and Lucy statue are from
<a href="http://graphics.stanford.edu/data/3Dscanrep/">The Stanford Scanning Repository</a>.
The Rust logo model was made by
<a href="http://blenderartists.org/forum/showthread.php?362836-Rust-language-3D-logo">Nylithius on BlenderArtists</a>.
The Utah teapot used is from <a href="http://graphics.cs.williams.edu/data/meshes.xml">Morgan McGuire's page</a> and
the monkey head is Blender's Suzanne. I've made minor tweaks to some of the models so for convenience
you can find versions that can be easily loaded into the sample scenes <a href="https://drive.google.com/folderview?id=0B-l_lLEMo1YeflUzUndCd01hOHhRNUhrQUowM3hVd2pCc3JrSXRiS3FQSzRYLWtGcGM0eGc&amp;usp=sharing">here</a>, though the
cube model for the Cornell box scene is included.
The materials on the Rust logo, Buddha, Dragon and Lucy are from the
<a href="http://www.merl.com/brdf/">MERL BRDF Database</a>.</p>
<p>Render times are formatted as hh:mm:ss and were measured using 144 threads on a machine with four
<a href="http://ark.intel.com/products/84685/Intel-Xeon-Processor-E7-8890-v3-45M-Cache-2_50-GHz">Xeon E7-8890 v3</a>
CPUs. The machine is an early/engineering sample from Intel so your results may differ, but massive thanks to
Intel for the hardware! Some older renders are shown as well without timing since they were
run on a different machine.</p>
<p>Some more sample renders can be found <a href="http://imgur.com/a/3qNBc">here</a>.</p>
<a href="http://i.imgur.com/X5y8oIq.png">
<img src="http://i.imgur.com/X5y8oIq.png" alt="Model gallery"
    style="display:block; max-width:100%; height:auto">
</a>
<p>1920x1080, 4096 samples/pixel. Rendering: 00:43:36.45.</p>
<a href="http://i.imgur.com/E1ylrZW.png">
<img src="http://i.imgur.com/E1ylrZW.png" alt="Rust Logo with friends, disk"
    style="display:block; max-width:100%; height:auto">
</a>
<p>1920x1080, 4096 samples/pixel. Rendering: 00:49:33.514.</p>
</div><h2 id='modules' class='section-header'><a href="#modules">Modules</a></h2>
<table><tr class='module-item'><td><a class="mod" href="bxdf/index.html" title='tray_rust::bxdf mod'>bxdf</a></td><td class='docblock-short'><p>Defines the BxDF interface implemented by BRDF/BTDFs to describe
material properties. Also provides the BSDF type which composes
various BRDF/BTDFs to describe materials</p>
</td></tr><tr class='module-item'><td><a class="mod" href="exec/index.html" title='tray_rust::exec mod'>exec</a></td><td class='docblock-short'><p>The exec module provides an abstraction of the execution backends
used to actually render the image</p>
</td></tr><tr class='module-item'><td><a class="mod" href="film/index.html" title='tray_rust::film mod'>film</a></td><td class='docblock-short'><p>The film module provides color types and a render target that the image
is written too.</p>
</td></tr><tr class='module-item'><td><a class="mod" href="geometry/index.html" title='tray_rust::geometry mod'>geometry</a></td><td class='docblock-short'><p>The geometry module defines the Geometry trait implemented by
the various geometry in the ray tracer and provides some standard
geometry for rendering</p>
</td></tr><tr class='module-item'><td><a class="mod" href="integrator/index.html" title='tray_rust::integrator mod'>integrator</a></td><td class='docblock-short'><p>The integrator module defines the Integrator trait implemented by
the various surface integrators used to render the scene with different
integration methods, eg. path tracing, photon mapping etc.</p>
</td></tr><tr class='module-item'><td><a class="mod" href="light/index.html" title='tray_rust::light mod'>light</a></td><td class='docblock-short'><p>Defines the light interface implemented by all lights in <code>tray_rust</code> and
the <code>OcclusionTester</code> which provides a convenient interface for doing
shadow tests for lights</p>
</td></tr><tr class='module-item'><td><a class="mod" href="linalg/index.html" title='tray_rust::linalg mod'>linalg</a></td><td class='docblock-short'><p>The linalg module provides some basic linear algebra functionality for
transforming 3D geometry</p>
</td></tr><tr class='module-item'><td><a class="mod" href="material/index.html" title='tray_rust::material mod'>material</a></td><td class='docblock-short'><p>Defines the trait implemented by all materials and exports various
supported material types. Materials are used to define how BxDFs are
composed to create the desired appearance</p>
</td></tr><tr class='module-item'><td><a class="mod" href="mc/index.html" title='tray_rust::mc mod'>mc</a></td><td class='docblock-short'><p>Defines various Monte Carlo sampling functions for sampling
points/directions on objects and computing the corresponding pdfs</p>
</td></tr><tr class='module-item'><td><a class="mod" href="partition/index.html" title='tray_rust::partition mod'>partition</a></td><td class='docblock-short'><p>Provides a general partitioning function that implements C++'s
<a href="http://en.cppreference.com/w/cpp/algorithm/partition">std::partition</a></p>
</td></tr><tr class='module-item'><td><a class="mod" href="sampler/index.html" title='tray_rust::sampler mod'>sampler</a></td><td class='docblock-short'><p>Provides the Sampler trait which is implemented by the various samplers
to provide stratified, low-discrepancy, adaptive sampling methods and so
on through a simple trait interface</p>
</td></tr><tr class='module-item'><td><a class="mod" href="scene/index.html" title='tray_rust::scene mod'>scene</a></td><td class='docblock-short'><p>Defines the scene struct which contains the various objects defining the scene.
This includes the geometry, instances of the geometry, the camera and so on.</p>
</td></tr><tr class='module-item'><td><a class="mod" href="texture/index.html" title='tray_rust::texture mod'>texture</a></td><td class='docblock-short'><p>Defines the trait implemented by all textured values</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "tray_rust";</script><script src="../aliases.js"></script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>